# 🔥지옥에서 온 관리자 Git🔥

> **여러 명의 개발자가 협력하여 프로젝트를 관리할 수 있도록 돕는 도구**

<br>

## 2️⃣-3️⃣ 소규모 협업하기 시나리오 3편(rebase)

---

[TOC]

---

## 1) 새로운 개발환경 인텔리 J 세팅하기

![image-20240804040742539](https://raw.githubusercontent.com/kjh5848/typora-image/main/image/image-20240804040742539.png)

![image-20240804041235603](https://raw.githubusercontent.com/kjh5848/typora-image/main/image/image-20240804041235603.png)

> 이번에는 팀장이 PR 요청을 거절하고 팀원이 rebase를 하고 다시 merge하는 시나리오를 만들어 보겠습니다. 그리고 이번 강의는 vscode가 아닌 **인텔리J 툴**로 해보겠습니다!!
>
> ## IntelliJ IDEA Community Edition
>
> - 인텔리 J를 처음 사용하시는 분들은 위 버전으로 다운로드 해주시면 됩니다.



![image-20240804123138764](https://raw.githubusercontent.com/kjh5848/typora-image/main/image/image-20240804123138764.png)

> 각각 관리자의 폴더와 팀원의 폴더를 열어서 세팅을 해줍니다. 실제라면 각자의 로컬에서 진행합니다만 현재는 한 로컬에서 다른 역할을 진행을 하기 때문이니 주의해주세요! 
>
> 그리고 'git remote -v'명령어로 연결된 저장소 주소도 한번 확인을 해줍니다. 이제 세팅 끝!

> [!tip]
>
> ## 알림 설정
>
> ![image-20240804032253227](https://raw.githubusercontent.com/kjh5848/typora-image/main/image/image-20240804032253227.png)
>
> Notifications(알림)  RP 요청을 확인할 수 있도록 설정해보겠습니다.  원하는 메일을 설정해주면 팀원이 PR요청을 할때 알람으로 확인할 수 있습니다. 안해도 프로필에 이메일을 설정하였다면 해당 이메일로 확인할 수 있습니다.
>
> ※주의 : 해당 레포지토리의 setting과 프로필 설정 두가지가 있습니다. 특정 레포지토리의 메일을 따로 받고 싶다면 다른 이메일을 등록 할 수 있습니다. 



## 2) 팀원 역할 : 로그인 만들기 

![image-20240804132433668](https://raw.githubusercontent.com/kjh5848/typora-image/main/image/image-20240804132433668.png)

![image-20240804063432170](https://raw.githubusercontent.com/kjh5848/typora-image/main/image/image-20240804063432170.png)

![image-20240804132626265](https://raw.githubusercontent.com/kjh5848/typora-image/main/image/image-20240804132626265.png)



> [!CAUTION]
>
> #### [문서] 팀 개발 순서
>
> 1. topic 브랜치 생성
> 2. 개발 완료
> 3. 커밋 로그 rebase로 정리
> 4. topic 푸시
> 5. pr 요청
> 6. 팀장 승인
> 7. merge 완료 후 해당 branch 삭제
> 8. (중요) dev 브랜치 pull 해서 동기화 하기!

![image-20240804142241455](https://raw.githubusercontent.com/kjh5848/typora-image/main/image/image-20240804142241455.png)

> 1. git checkout -b login-topic
> 2. 로그인 파일 생성
> 3.  '1.로그인 하다가 잠와서 집감'
> 4. git add . -> git commit -m"로그인 하다가 잠와서 집감"
> 5.   '2.로그인 완료'
> 6. git add . -> git commit -m"feat(login) : 로그인 완료"
>
> 이렇게 완료를 하였습니다. 하지만 팀에서 정해둔 문서에서는 3번 커밋로그 rebase로 정리가 있는데 이 부분을 깜밖하고 PR요청을 하게 됩니다.
>
> #### **신입이라면 충분히 그럴 수 있다!!**

<br>

## 3) 팀장 역할 : PR 확인하기

- #### 이메일 알람을 확인해봅니다.

![image-20240804034357537](https://raw.githubusercontent.com/kjh5848/typora-image/main/image/image-20240804034357537.png)

> 알람으로 커밋요약을 확인하고 반려사유를 확인합니다.

![image-20240804145840586](https://raw.githubusercontent.com/kjh5848/typora-image/main/image/image-20240804145840586.png)

![image-20240804034913537](https://raw.githubusercontent.com/kjh5848/typora-image/main/image/image-20240804034913537.png)

> 실제 깃헙에서 PR요청의 커밋로그를 확인해보니 굉장히 마음에 안든다는걸 확인할 수 있습니다. 그럼 이제 팀원에게 커밋을 rebase를 하라고 반려를 할 수 있습니다. 

<br>

## 4) 팀원 역할 :  rebase하기

![image-20240804035312789](https://raw.githubusercontent.com/kjh5848/typora-image/main/image/image-20240804035312789.png)

![image-20240804035214129](https://raw.githubusercontent.com/kjh5848/typora-image/main/image/image-20240804035214129.png)

> 팀원도 알람을 받고 자신의 PR요청에서 반려당한 사유를 확인한 뒤 해결합니다.

- #### 로그를 확인한뒤 'git rebase -i HEAD~2'로 스쿼시를 한다.

![image-20240804135414310](https://raw.githubusercontent.com/kjh5848/typora-image/main/image/image-20240804135414310.png)

![image-20240804135454176](https://raw.githubusercontent.com/kjh5848/typora-image/main/image/image-20240804135454176.png)

![image-20240804142334115](https://raw.githubusercontent.com/kjh5848/typora-image/main/image/image-20240804142334115.png)

> 처음 로그를 확인한 뒤 하나의 커밋 로그로 rebase 된걸 확인할 수 있습니다.

- #### 그리고 push 하니 아래와 같은 오류가 납니다 왜 일까요?

> [!warning]
>
> ![image-20240804142402366](https://raw.githubusercontent.com/kjh5848/typora-image/main/image/image-20240804142402366.png)
>
> 오류: 'github.com -kjh5844:kjh5848/blog-team.git'에 대한 일부 참조를 푸시하지 못했습니다
> 힌트: 현재 지점의 팁이 뒤에 있기 때문에 업데이트가 거부되었습니다
> 힌트: 원격 대응물입니다. 원격 변경 사항을 통합하고 싶다면,
> 힌트: 다시 밀기 전에 '깃 당김'을 사용합니다.
> 힌트: 자세한 내용은 'git push --help'의 '빠른 전달에 대한 참고'를 참조하십시오.

- #### 이유는 형상이 다르기 때문입니다.

> ![image-20240804142158116](https://raw.githubusercontent.com/kjh5848/typora-image/main/image/image-20240804142158116.png)
>
> 현재 팀원(kjh5844)의 커밋은 이렇게 되어있습니다.

![image-20240804143721890](https://raw.githubusercontent.com/kjh5848/typora-image/main/image/image-20240804143721890.png)

> 위  그림처럼  리베이스를 한 로컬상태와 원격지의 커밋의 형상이 다르기 때문에 동기화를 할 수도 없습니다. 그럼 다시 '로그인 하다가 잠와서 집감'이 다시 생기고 또 다시 rebase를 해야하기 때문입니다.
>
> ![image-20240804143340680](https://raw.githubusercontent.com/kjh5848/typora-image/main/image/image-20240804143340680.png)
>
> git push -f origin login-topic으로 강제푸쉬를 하고 깃헙을 확인해보겠습니다.
>
> ![image-20240804143836225](https://raw.githubusercontent.com/kjh5848/typora-image/main/image/image-20240804143836225.png)
>
> 깃헙에도 커밋이 잘 올라간걸 확인할 수 있습니다. 그럼이제 PR요청으로 다시 승인을 받겠습니다.

![image-20240804174603755](https://raw.githubusercontent.com/kjh5848/typora-image/main/image/image-20240804174603755.png)

> 팀원이 PR 요청한 페이지를 다시 확인해보면 이제 커밋 로그가 깔끔하게 보이는 걸 확인할 수 있습니다. 그리고 아래 코멘트를 달아서 요청을 합니다.  
> ※ 코멘트에 대한 부분은 알람이 가지 않으니 팀장에게 직접 요청을 해야합니다.

> [!tip]
>
> - #### 이슈로 요청하기
>
>   ![image-20240804174248650](https://raw.githubusercontent.com/kjh5848/typora-image/main/image/image-20240804174248650.png)
>
>   ![image-20240804174144200](https://raw.githubusercontent.com/kjh5848/typora-image/main/image/image-20240804174144200.png)
>
> 
>- #### 깃헙 알람
> 
>![image-20240804174306045](https://raw.githubusercontent.com/kjh5848/typora-image/main/image/image-20240804174306045.png)
> 
>
>   
>- #### 이메일
> 
>![image-20240804174324666](https://raw.githubusercontent.com/kjh5848/typora-image/main/image/image-20240804174324666.png)
> 
>
>   
>  팀장은 깃헙의 알람과 이메일로 확인 할 수 있습니다.

- #### 이제 마무리를 합니다.

>[!CAUTIOn]
>
>#### [문서] 팀 개발 순서
>
>1. topic 브랜치 생성
>2. 개발 완료
>3. 커밋 로그 rebase로 정리
>4. topic 푸시
>5. pr 요청
>6. 팀장 승인
>7. merge 완료 후 해당 branch 삭제
>8. (중요) dev 브랜치 pull 해서 동기화 하기!



![image-20240804174208869](https://raw.githubusercontent.com/kjh5848/typora-image/main/image/image-20240804174208869.png)

![image-20240804174221345](https://raw.githubusercontent.com/kjh5848/typora-image/main/image/image-20240804174221345.png)

> 이제 팀원은 순서에 맞춰 7번, 8번을 하면 완료하였고 깃헙에서 브랜치와 로드도 merge까지 된걸 확인할 수 있습니다.

<br>

## 5) 팀장 역할 : dev를 main으로 병합하기
